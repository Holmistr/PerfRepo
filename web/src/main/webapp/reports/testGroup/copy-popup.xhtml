<rich:popupPanel id="copyPopup" modal="true" autosized="true" resizeable="false" domElementAttachment="form" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" onshow="#{rich:component('focus')}.applyFocus();">
	<f:facet name="header">
		<h:outputText value="Save new report" />
	</f:facet>
	<h:form id="copyForm" class="form-horizontal well-small">
		<rich:focus id="focus"/>
		<fieldset>
			<h5>Save new Report</h5>
			<a4j:outputPanel id="copyPopupMessagesPanel">
				<h:messages errorClass="alert alert-error" infoClass="alert alert-success" fatalClass="alert alert-error" warnClass="alert alert-info" />
			</a4j:outputPanel>
			<div class="control-group">
				<h:outputLabel class="control-label" for="baseline1">Report ID</h:outputLabel>
				<div class="controls">
					<h:inputText label="Report ID" id="newReportId" value="#{testGroupReportController.newReportId}" validatorMessage="Validation Error: Invalid Report ID (only characeters including special chars '_' and '-' are allowed)">
						<f:validateRegex pattern="^([\w_-]+)$" ></f:validateRegex>
					</h:inputText>
				</div>
			</div>
			<div class="control-group">
				<h:outputLabel class="control-label" for="baseline1">Report name</h:outputLabel>
				<div class="controls">
					<h:inputText value="#{testGroupReportController.newReportName}" />
				</div>
			</div>				      	
			
			<div style="text-align:right">				
				<a4j:commandButton styleClass="btn btn-primary btn-small" action="#{testGroupReportController.saveReportAs()}" value="OK" alt="OK" title="OK"
					oncomplete="if (#{facesContext.maximumSeverity==null}) #{rich:component('copyPopup')}.hide()" render="@form :testGroupReport :testGroupReportTable :copyPopupMessagesPanel" />
				<a4j:commandButton styleClass="btn btn-primary btn-small" action="#{testGroupReportController.clearTestsCopy()}" oncomplete="#{rich:component('copyPopup')}.hide()" value="#{strings.cancel}" alt="#{strings.cancel}" title="#{strings.cancel}"/>
			</div>
		</fieldset>
		<rich:hotKey key="Esc">
        	<rich:componentControl target="copyPopup" operation="hide" />
		</rich:hotKey>
	</h:form>
</rich:popupPanel>


