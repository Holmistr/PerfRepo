<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:r="http://richfaces.org">
<h:body>
	<f:metadata>
		<f:event type="preRenderView" listener="#{reportList.preRender}" />
	</f:metadata>
	<ui:composition template="/layout/template.xhtml">
		<ui:define name="title">Reports</ui:define>
		<ui:define name="content">
			<h2>Main reports</h2>
			<ul>
				<li><a href="/repo/reports/simple">#{strings['page.reportIndex.simple']}</a></li>
				<li><a href="/repo/reports/metric">#{strings['page.reportIndex.metricHistory']}</a></li>
				<li><a href="/repo/reports/compare/exec">#{strings['page.reportIndex.compareExecutions']}</a></li>
				<li><a href="/repo/reports/compare/param">#{strings['page.reportIndex.compareParameters']}</a></li>
			</ul>
			<h2>Saved reports</h2>
			<h:form id="formSavedReports">
				<table class="savedReports">
					<thead>
						<tr>
							<td>Name</td>
							<td>Type</td>
							<td></td>
						</tr>
					</thead>
					<tbody>
						<r:repeat value="#{reportList.savedReports}" var="reportItem">
							<tr>
								<td><a href="#{reportItem.link}">#{reportItem.name}</a></td>
								<td><h:outputText value="#{reportItem.type}" /></td>
								<td><r:commandLink styleClass="btn btn-primary btn-small" action="#{reportList.remove(reportItem)}" alt="Remove" title="Remove"
										render=":formSavedReports :messagesPanel">
										<i class="icon-minus"></i>
									</r:commandLink></td>
							</tr>
						</r:repeat>
					</tbody>
				</table>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
