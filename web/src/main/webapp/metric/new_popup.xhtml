
<rich:popupPanel id="testMetricNewPopup" modal="true"
	autosized="true" resizeable="false"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	<f:facet name="header">
		<h:outputText value="Add Test Metric" />
	</f:facet>
	
	
		<rich:tabPanel switchType="client">
	        <rich:tab header="Assign Existing Metric" rendered="#{testController.availableMetricsByTest.size() > 0}">
	        	<h:form id="testMetricNewPopupForm1"> 
	        	<table class="table">
					<tbody>
						<tr class="table-row">
							<td><label>Select Metric</label></td>
							<td>
							<h:selectOneMenu value="#{testController.metric.id}">
								<f:selectItems styleClass="input-text" value="#{testController.availableMetricsByTest}" var="item"
								itemLabel="#{item.name}" itemValue="#{item.id}" />
							</h:selectOneMenu>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td class="table-footer" colspan="2">
								<a4j:commandButton
									styleClass="button-left-arrow"
									oncomplete="#{rich:component('testMetricNewPopup')}.hide()"
									value=" " alt="#{strings.back}" title="#{strings.back}" /> 
								<a4j:commandButton
									styleClass="button-check"
									action="#{testController.addMetric}" value=" "
									alt="#{strings.save}" title="#{strings.save}"
									render="testMetricNewPopupForm :testMetricList"
									oncomplete="#{rich:component('testMetricNewPopup')}.hide()" />
							</td>
						</tr>
					</tfoot>					
				</table>	
				</h:form>        	           
	        </rich:tab>
	        <rich:tab header="Create New Metric">
	        <h:form id="testMetricNewPopupForm2">
	            <table class="table">
				<tbody>				
					<tr class="table-row">
						<td><label>#{entityStrings.Metric_name}</label></td>
						<td>
							<h:inputText styleClass="input-text"
								value="#{testController.metric.name}" />
						</td>
					</tr>
					<tr class="table-row">
						<td><label>#{entityStrings.Metric_comparator}</label></td>
						<td>
							<h:inputText styleClass="input-text"
								value="#{testController.metric.comparator}" />
						</td>
					</tr>	
					<tr class="table-row">
						<td><label>#{entityStrings.Metric_description}</label></td>
						<td>
							<h:inputText styleClass="input-text"
								value="#{testController.metric.description}" />
						</td>
					</tr>			
				</tbody>
				<tfoot>
					<tr>
						<td class="table-footer" colspan="2">
							<a4j:commandButton
								styleClass="button-left-arrow"
								oncomplete="#{rich:component('testMetricNewPopup')}.hide()"
								value=" " alt="#{strings.back}" title="#{strings.back}" /> 
							<a4j:commandButton
								styleClass="button-check"
								action="#{testController.addMetric}" value=" "
								alt="#{strings.save}" title="#{strings.save}"
								render="testMetricNewPopupForm :testMetricList"
								oncomplete="#{rich:component('testMetricNewPopup')}.hide()" />
						</td>
					</tr>
				</tfoot>
				</table>
				</h:form>
	        </rich:tab>
    	</rich:tabPanel>	
</rich:popupPanel>
