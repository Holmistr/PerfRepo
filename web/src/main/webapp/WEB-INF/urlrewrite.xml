<?xml version="1.0" encoding="utf-8"?>

<!-- Configuration file for UrlRewriteFilter http://tuckey.org/urlrewrite/ -->

<urlrewrite>

   <rule>
      <from>^/profile$</from>
      <to type="forward" last="true">/user/profile.jsf</to>
   </rule>

   <rule>
      <!-- /test/{testId} -->
      <from>^/test/([\d]+)$</from>
      <to type="forward" last="true">/test/detail.jsf?testId=$1</to>
      <set name="formActionURL">/test/$1</set>
   </rule>

   <rule>
      <from>^/test/search$</from>
      <to type="forward" last="true">/test/search.jsf</to>
   </rule>

   <rule>
      <from>^/test$</from>
      <to type="forward" last="true">/test/search.jsf</to>
   </rule>

   <rule>
      <from>^/test/new$</from>
      <to type="forward" last="true">/test/edit.jsf?createMode=true</to>
      <set name="formActionURL">/test/new</set>
   </rule>

   <rule>
      <!-- /test/{testId}/edit -->
      <from>^/test/([\d]+)/edit$</from>
      <to type="forward" last="true">/test/edit.jsf?testId=$1</to>
      <set name="formActionURL">/test/$1/edit</set>
   </rule>

   <rule>
      <!-- /test/{testId}/newExec -->
      <from>^/test/([\d]+)/newExec$</from>
      <to type="forward" last="true" qsappend="true">/testExecution/detail.jsf?createForTest=$1</to>
      <set name="formActionURL">/test/$1/newExec</set>
   </rule>

   <rule>
      <!-- /exec/{testExecutionId} -->
      <from>^/exec/([\d]+)$</from>
      <to type="forward" last="true" qsappend="true">/testExecution/detail.jsf?testExecutionId=$1</to>
      <set name="formActionURL">/exec/$1</set>
   </rule>

   <rule>
      <from>^/exec/search$</from>
      <to type="forward" last="true">/testExecution/search.jsf</to>
   </rule>

   <rule>
      <from>^/exec$</from>
      <to type="forward" last="true">/testExecution/search.jsf</to>
   </rule>

   <rule>
      <from>^/exec/new$</from>
      <to type="forward" last="true">/testExecution/detail.jsf?createMode=true</to>
      <set name="formActionURL">/exec/new</set>
   </rule>

   <rule>
      <from>^/reports/parametrizedDetail/([\w_]+)/([\w_.]+)$</from>
      <to type="forward" last="true">/reports/parametrizedDetail.jsf?testId=$1&amp;jobId=$2</to>
      <set name="formActionURL">/reports/parametrizedDetail/$1/$2</set>
   </rule>

   <rule>
      <!-- /param/{paramId} -->
      <from>^/param/([\d]+)$</from>
      <to type="forward" last="true">/testExecutionParameter/show.jsf?paramId=$1</to>
      <set name="formActionURL">/param/$1</set>
   </rule>

   <rule>
      <from>^/reports$</from>
      <to type="forward" last="true">/reports/index.jsf</to>
   </rule>

   <rule>
      <!-- /reports/metric -->
      <from>^/reports/metric$</from>
      <to type="forward" last="true">/reports/metric.jsf</to>
      <set name="formActionURL">/reports/metric</set>
   </rule>

   <rule>
      <!-- /reports/metric/{testId} -->
      <from>^/reports/metric/([\w_]+)$</from>
      <to type="forward" last="true">/reports/metric.jsf?t=$1</to>
      <set name="formActionURL">/reports/metric/$1</set>
   </rule>

   <rule>
      <!-- /reports/metric/{testId}/{paramName} -->
      <from>^/reports/metric/([\w_]+)/([\w_.]+)$</from>
      <to type="forward" last="true">/reports/metric.jsf?t=$1&amp;p=$2</to>
      <set name="formActionURL">/reports/metric/$1/$2</set>
   </rule>

   <rule>
      <from>^/reports/simple$</from>
      <to type="forward" last="true">/reports/simpleReport.jsf</to>
      <set name="formActionURL">/reports/simple</set>
   </rule>

   <rule>
      <from>^/reports/compare/exec$</from>
      <to type="forward" last="true">/reports/compareExecutions.jsf</to>
      <set name="formActionURL">/reports/compare/exec</set>
   </rule>

   <rule>
      <from>^/reports/compare/param$</from>
      <to type="forward" last="true">/reports/compareParameters.jsf</to>
      <set name="formActionURL">/reports/compare/param</set>
   </rule>

</urlrewrite>