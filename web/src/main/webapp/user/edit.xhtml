<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
        >
<h:body>
    <f:metadata>
        <f:event type="preRenderView" listener="#{userProfileController.preRender}"/>
    </f:metadata>
    <ui:composition template="/layout/template.xhtml">
        <ui:define name="title">Edit user profile</ui:define>
        <ui:define name="content">
            <div style=" overflow: hidden;">
                <div id="control" style="float: left;opacity: 0.3;overflow: hidden;height:60px;">
                    <h2 class="text-success" style="">Profile</h2>
                </div>

                <div id="control"
                     style="text-align:right;float: right;line-height: 40px; margin: 10px 0;width:400px;height:40px;">
               <span style="margin:5px;">
                  <a class="text-success" href="#{request.contextPath}/profile">
                      <i class="icon-backward" title="#{strings.edit}"/> Back to profile
                  </a>
               </span>

               <span style="margin:5px;">
                  <a class="text-success" href="#{request.contextPath}/profile/change_password">
                      <i class="icon-lock" title="#{strings.edit}"/> Change password
                  </a>
               </span>
                </div>
            </div>
            <hr/>
            <h:form>
                <fieldset>
                    <h1>Edit user profile</h1>

                    <table class="detailTable">
                        <tr>
                            <th>First name <span class="required">*</span></th>
                            <td>
                                <h:inputText styleClass="input-text" value="#{userProfileController.user.firstName}"/>
                            </td>
                        </tr>
                        <tr>
                            <th>Last name <span class="required">*</span></th>
                            <td>
                                <h:inputText styleClass="input-text" value="#{userProfileController.user.lastName}"/>
                            </td>
                        </tr>
                        <tr>
                            <th>E-mail <span class="required">*</span></th>
                            <td>
                                <h:inputText styleClass="input-text" value="#{userProfileController.user.email}"/>
                            </td>
                        </tr>
                    </table>

                    <br />

                    <div style="text-align: center">
                        <h:commandButton action="#{userProfileController.update}" value="Save changes"
                                         styleClass="btn btn-primary"/>
                    </div>
                </fieldset>
            </h:form>
        </ui:define>
    </ui:composition>
</h:body>
</html>