<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
        >
<h:body>
    <f:metadata>
        <f:event type="preRenderView" listener="#{userProfileController.preRender}"/>
    </f:metadata>
    <ui:composition template="/layout/template.xhtml">
        <ui:define name="title">Change password</ui:define>
        <ui:define name="content">
            <div style=" overflow: hidden;">
                <div id="control" style="float: left;opacity: 0.3;overflow: hidden;height:60px;">
                    <h2 class="text-success" style="">Profile</h2>
                </div>

                <div id="control"
                     style="text-align:right;float: right;line-height: 40px; margin: 10px 0;width:400px;height:40px;">
               <span style="margin:5px;">
                  <a class="text-success" href="/profile">
                      <i class="icon-backward" title="#{strings.edit}"/> Back to profile
                  </a>
               </span>

               <span style="margin:5px;">
                  <a class="text-success" href="/profile/edit">
                      <i class="icon-edit" title="#{strings.edit}"/> Edit profile
                  </a>
               </span>
                </div>
            </div>
            <hr/>
            <h:form>
                <fieldset>
                    <h1>Change password</h1>

                    <h:outputLabel class="detail-label">Current password</h:outputLabel>

                    <div class="controls">
                        <h:inputSecret styleClass="input-text" value="#{userProfileController.oldPassword}"/>
                    </div>

                    <h:outputLabel class="detail-label">New password</h:outputLabel>

                    <div class="controls">
                        <h:inputSecret styleClass="input-text" value="#{userProfileController.newPassword}"/>
                    </div>

                    <h:outputLabel class="detail-label">New password again</h:outputLabel>

                    <div class="controls">
                        <h:inputSecret styleClass="input-text"
                                       value="#{userProfileController.newPasswordConfirmation}"/>
                    </div>

                    <div style="text-align: center">
                        <h:commandButton action="#{userProfileController.changePassword}" value="Change password"
                                         styleClass="btn btn-primary"/>
                    </div>
                </fieldset>
            </h:form>
        </ui:define>
    </ui:composition>
</h:body>
</html>